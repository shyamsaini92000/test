<!DOCTYPE html>
<html>
<head>
  <title>üìù My Notes</title>
  <meta charset="UTF-8" />
</head>
<body style="font-family:sans-serif; padding:20px; max-width:600px; margin:auto;">
  <h2>üìù Add Note</h2>

  <label>Date:</label><br>
  <input type="date" id="date"><br><br>

  <label>Time:</label><br>
  <input type="time" id="time"><br><br>

  <label>Note:</label><br>
  <textarea id="note" rows="5" cols="50" placeholder="Write your note here..."></textarea><br><br>

  <button onclick="saveNote()">üíæ Save Note</button>

  <p id="status" style="color:green; font-weight:bold;"></p>

  <!-- Firebase scripts (modern module style) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";

    // ‚úÖ Your Firebase Config
    const firebaseConfig = {
      apiKey: "AIzaSyArVv8vkKVesKucyDWIaA6fqlMIid_rHCM",
      authDomain: "my-notes-1786d.firebaseapp.com",
      projectId: "my-notes-1786d",
      storageBucket: "my-notes-1786d.firebasestorage.app",
      messagingSenderId: "387565728598",
      appId: "1:387565728598:web:4992242a04b3e154685cf7",
      measurementId: "G-S9CFMHH3ZZ"
    };

    // ‚úÖ Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // ‚úÖ Save note function
    window.saveNote = async function () {
      const date = document.getElementById("date").value;
      const time = document.getElementById("time").value;
      const note = document.getElementById("note").value;
      const status = document.getElementById("status");

      if (!date || !time || !note) {
        alert("‚ö†Ô∏è Please fill all fields");
        return;
      }

      try {
        await addDoc(collection(db, "notes"), {
          date,
          time,
          note,
          created: new Date()
        });
        status.innerText = "‚úÖ Note saved!";
        document.getElementById("note").value = "";
      } catch (error) {
        status.style.color = "red";
        status.innerText = "‚ùå Error saving note: " + error;
      }
    };
  </script>
</body>
</html>
